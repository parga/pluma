(this.webpackJsonppluma=this.webpackJsonppluma||[]).push([[0],{25:function(e,t,n){e.exports={header:"header_header__3fn4i",container:"header_container__1p_To",logo:"header_logo__14tHM",name:"header_name__2Sj0Q"}},34:function(e,t,n){e.exports={buttons:"question_buttons__2rLvr",question:"question_question__3nqZK"}},47:function(e){e.exports=JSON.parse('{"Header.language":"Language:","Header.spanish":"Spanish","Header.english":"English","Home.signIn":"Sign In","Home.signInEmail":"What is your sign-in email address?","Home.emailPlaceholder":"Your email address","Home.continue":"Continue","Question.previous":"< Previous","Question.next":"Next >","Recommendations.recommendationTitle":"We got your recommendations","Recommendations.recommendationSubTitle":"Based on your answers, this is what make sense for you and what you should pay","Recommendations.healthInsurance":"Health Insurance","Recommendations.homeContent":"Home Content","Recommendations.PRIVATE_LIABILITY":"Private Liability","Recommendations.MONTH":" per month","Recommendations.YEAR":"per year","App.firstNameQuestion":"What\'s your fist name?","App.firstNamePlaceholder":"Your name here","App.addressQuestion":"What\'s your address?","App.addressPlaceholder":"Your address here","App.occupation":"What\'s your occupation?","App.occupationEmployed":"Employed","App.occupationSelfEmployed":"SelfEmployed","App.occupationStudent":"Student","App.doYouHaveChildrenQuestion":"Do you have children?","App.childrenYes":"Yes","App.childrenNo":"No","App.howManyChildrenQuestion":"How many children do you have?","App.emailQuestion":"What\'s your email?"}')},48:function(e){e.exports=JSON.parse('{"Header.language":"Lenguaje:","Header.spanish":"Espa\xf1ol","Header.english":"Ingles","Home.signIn":"Autenticar","Home.signInEmail":"Cual es tu email para autenticarte?","Home.continue":"Continuar","Home.emailPlaceholder":"Aqui tu correo electronico","Question.previous":"< Anterior","Question.next":"Siguiente >","Recommendations.recommendationTitle":"Estas son las recomendaciones para ti;","Recommendations.recommendationSubTitle":"En base a tus respuestas, esto es lo que creemos que funciona para ti y su costo","Recommendations.healthInsurance":"Seguro de vida","Recommendations.homeContent":"Seguro de hogar","Recommendations.PRIVATE_LIABILITY":"Riesgo como individuo","Recommendations.MONTH":" al mes","Recommendations.YEAR":"al a\xf1o","App.firstNameQuestion":"Cual es tu nombre?","App.occupation":"A que te dedicas?","App.doYouHaveChildrenQuestion":"Tienes hijos?","App.howManyChildrenQuestion":"Cuantos hijos tienes?","App.emailQuestion":"cual es tu correo electronico?","App.firstNamePlaceholder":"Tu nombre aqui","App.occupationEmployed":"Empleado","App.occupationSelfEmployed":"Autonomo","App.occupationStudent":"Estudiante","App.childrenYes":"Si","App.childrenNo":"No","App.addressPlaceholder":"Tu direccion aqui"}')},49:function(e,t,n){e.exports={container:"home_container__2qJuK"}},50:function(e,t,n){e.exports={recommendation:"recommendations_recommendation__3m6Gc"}},51:function(e,t,n){e.exports={main:"main_main__2cBeG"}},62:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(46),s=n.n(i),c=(n(62),n(8)),r=(n(63),n(22)),l=n(30),u=n(47),d=n(48),p=n(25),m=n.n(p),h=n(12),g=n(20),j=n(2),b=Object(h.a)({language:{id:"Header.language",defaultMessage:"Language:"},spanish:{id:"Header.spanish",defaultMessage:"Spanish"},english:{id:"Header.english",defaultMessage:"English"}});function f(e){var t=e.setLocale,n=e.locale,a=Object(g.a)().formatMessage;return Object(j.jsx)("header",{className:m.a.container,children:Object(j.jsxs)("div",{className:m.a.header,children:[Object(j.jsxs)("a",{className:m.a.logo,href:"/pluma",children:[Object(j.jsx)("img",{src:"https://feather-insurance.com/_next/static/media/logo.0d69221106425e5288907e514db23d99.svg","aria-label":"Home"}),Object(j.jsx)("div",{className:m.a.name,children:Object(j.jsx)("h1",{className:"p-h1",children:"Pluma"})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"language-selector",children:a(b.language)}),Object(j.jsxs)("select",{className:"p-select",id:"language-selector",onChange:function(e){t(e.target.value)},value:n,children:[Object(j.jsx)("option",{value:"es",children:a(b.spanish)}),Object(j.jsx)("option",{value:"en",children:a(b.english)})]})]})]})})}var O=n(5),v=Object(h.a)({firstNameQuestion:{id:"App.firstNameQuestion",defaultMessage:"What's your fist name?"},firstNamePlaceholder:{id:"App.firstNamePlaceholder",defaultMessage:"Your name here"},addressQuestion:{id:"App.addressQuestion",defaultMessage:"What's your address?"},addressPlaceholder:{id:"App.addressPlaceholder",defaultMessage:"Your address here"},occupationQuestion:{id:"App.occupation",defaultMessage:"What's your occupation?"},occupationEmployed:{id:"App.occupationEmployed",defaultMessage:"Employed"},occupationSelfEmployed:{id:"App.occupationSelfEmployed",defaultMessage:"SelfEmployed"},occupationStudent:{id:"App.occupationStudent",defaultMessage:"Student"},doYouHaveChildrenQuestion:{id:"App.doYouHaveChildrenQuestion",defaultMessage:"Do you have children?"},childrenYes:{id:"App.childrenYes",defaultMessage:"Yes"},childrenNo:{id:"App.childrenNo",defaultMessage:"No"},howManyChildrenQuestion:{id:"App.howManyChildrenQuestion",defaultMessage:"How many children do you have?"},emailQuestion:{id:"App.emailQuestion",defaultMessage:"What's your email?"}});var x=n(49),y=n.n(x),w=Object(h.a)({signIn:{id:"Home.signIn",defaultMessage:"Sign In"},signInEmail:{id:"Home.signInEmail",defaultMessage:"What is your sign-in email address?"},emailPlaceholder:{id:"Home.emailPlaceholder",defaultMessage:"Your email address"},continue:{id:"Home.continue",defaultMessage:"Continue"}});function N(e){var t=e.userId,n=e.setUserId,o=Object(g.a)().formatMessage,i=Object(O.f)(),s=Object(a.useState)("/firstName"),r=Object(c.a)(s,2),l=r[0],u=r[1];return Object(a.useEffect)((function(){window.localStorage.getItem("".concat(t,":token"))&&u("/recommendations")}),[t]),Object(j.jsxs)("div",{className:y.a.container,children:[Object(j.jsx)("h1",{className:"p-h1",children:o(w.signIn)}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"p-h4",htmlFor:"email",children:o(w.signInEmail)}),Object(j.jsx)("input",{id:"email",className:"p-input d-block mt8 wmx6",type:"email",placeholder:o(w.emailPlaceholder),value:t,onChange:function(e){return n(e.target.value)}}),Object(j.jsx)("button",{className:"p-btn p-btn--primary wmn3 mt16",onClick:function(){return function(e){return i.push(e)}(l)},disabled:!t,children:o(w.continue)})]})]})}var S=n(52),A=n(34),I=n.n(A),M=Object(h.a)({previous:{id:"Question.previous",defaultMessage:"< Previous"},next:{id:"Question.next",defaultMessage:"Next >"}});function E(e){var t=e.question,n=t.previous,a=t.next,o=t.question,i=Object(g.a)().formatMessage,s=Object(O.f)(),c=function(e){return s.push(e)},r="radio"!==t.input.type?Object(j.jsx)(C,{placeholder:t.input.placeholder,onChange:t.onChange,currentValue:t.input.currentValue,type:t.input.type,label:o}):Object(j.jsx)(H,{options:t.input.options,onChange:t.onChange,currentValue:t.input.currentValue,label:o});return Object(j.jsxs)("div",{className:I.a.question,children:[r,Object(j.jsxs)("div",{className:I.a.buttons,children:[Object(j.jsx)("button",{className:"p-btn p-btn--primary mt16 ws2",onClick:function(){return c(n)},children:i(M.previous)}),Object(j.jsx)("button",{className:"p-btn--primary mt16 ws2",onClick:function(){t.onNext(),c(a)},disabled:t.validation(),children:i(M.next)})]})]})}function C(e){var t=e.placeholder,n=e.onChange,a=e.currentValue,o=e.type,i=e.label,s={className:"p-input d-block mt8 wmx6",type:""};return"email"===o&&(s={type:"email",className:"d-block mt8 wmx6 ".concat(function(e){return/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)?"p-input":"p-input--error"}(a))}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"p-h4",htmlFor:i,children:i}),Object(j.jsx)("input",Object(S.a)({id:i,placeholder:t,onChange:n,value:a},s))]})}function H(e){var t=e.options,n=e.onChange,a=e.currentValue,o=e.label;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"p-h4",children:o}),Object(j.jsx)("div",{className:"p-label-container mt8",children:t.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{id:"default-".concat(t),className:"p-radio",type:"radio",value:e.value,onChange:n,checked:a===e.value}),Object(j.jsx)("label",{htmlFor:"default-".concat(t),className:"p-label",children:e.label})]},t)}))})]})}var _=n(15),Q=n.n(_),T=n(26),R=n(35),P=n.n(R),Y=n(50),k=n.n(Y),q=Object(h.a)({recommendationTitle:{id:"Recommendations.recommendationTitle",defaultMessage:"We got your recommendations"},recommendationSubTitle:{id:"Recommendations.recommendationSubTitle",defaultMessage:"Based on your answers, this is what make sense for you and what you should pay"},HEALTH_INSURANCE:{id:"Recommendations.healthInsurance",defaultMessage:"Health Insurance"},HOME_CONTENT:{id:"Recommendations.homeContent",defaultMessage:"Home Content"},PRIVATE_LIABILITY:{id:"Recommendations.PRIVATE_LIABILITY",defaultMessage:"Private Liability"},MONTH:{id:"Recommendations.MONTH",defaultMessage:" per month"},YEAR:{id:"Recommendations.YEAR",defaultMessage:"per year"}});function L(e,t){return V.apply(this,arguments)}function V(){return(V=Object(T.a)(Q.a.mark((function e(t,n){var a,o,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.post("https://challenge-dot-popsure-204813.appspot.com/user",t);case 3:i=e.sent,window.localStorage.setItem("".concat(n,":token"),i.data.jwt),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:return e.abrupt("return",null===(a=i)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.jwt);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(e){return W.apply(this,arguments)}function W(){return(W=Object(T.a)(Q.a.mark((function e(t){var n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,e.prev=1,e.next=4,P.a.get("https://challenge-dot-popsure-204813.appspot.com/recommendation ",{headers:{Authorization:"Bearer ".concat(n)}});case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.abrupt("return",a.data);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function B(e){var t=e.userId,n=Object(a.useState)("no"),o=Object(c.a)(n,2),i=o[0],s=o[1],r=Object(a.useState)(""),l=Object(c.a)(r,2),u=l[0],d=l[1],p=Object(a.useState)([]),m=Object(c.a)(p,2),h=m[0],b=m[1],f=Object(g.a)().formatMessage;return Object(a.useEffect)((function(){s(window.localStorage.getItem("".concat(t,":completedProfile")))}),[t]),Object(a.useEffect)((function(){function e(){return(e=Object(T.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,L(t,n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(T.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,e.t0=b,e.next=4,F({token:n});case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(d(window.localStorage.getItem("".concat(t,":token"))),u&&function(e){n.apply(this,arguments)}({token:u}),"true"===i)&&function(t,n){e.apply(this,arguments)}({firstName:window.localStorage.getItem("".concat(t,":firstName")),address:window.localStorage.getItem("".concat(t,":address")),occupation:window.localStorage.getItem("".concat(t,":occupation")),numberOfChildren:Number(window.localStorage.getItem("".concat(t,":howMany"))),email:window.localStorage.getItem("".concat(t,":email"))},t)}),[i,t,u]),Object(j.jsx)(j.Fragment,{children:h.length?Object(j.jsxs)("div",{className:"home-container ml8 mr8",children:[Object(j.jsx)("h1",{className:"p-h1",children:f(q.recommendationTitle)}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{className:"p-h4 mb24",children:f(q.recommendationSubTitle)}),h.map((function(e,t){return Object(j.jsxs)("div",{className:"".concat(k.a.recommendation," mb24"),children:[Object(j.jsx)("h4",{className:"p-h4",children:f(q[e.type])}),Object(j.jsx)("div",{children:" $ ".concat(e.price.amount," ").concat(f(q[e.price.periodicity]))})]},t)}))]})]}):Object(j.jsx)("div",{className:"ds-spinner ds-spinner__l"})})}var z=n(51),Z=n.n(z);function D(){var e=Object(g.a)(),t=Object(a.useState)(""),n=Object(c.a)(t,2),o=n[0],i=n[1],s=function(e){var t=e.intl,n=e.userId,o=Object(a.useState)(""),i=Object(c.a)(o,2),s=i[0],r=i[1],l=Object(a.useState)(""),u=Object(c.a)(l,2),d=u[0],p=u[1],m=Object(a.useState)(""),h=Object(c.a)(m,2),g=h[0],j=h[1],b=Object(a.useState)(""),f=Object(c.a)(b,2),O=f[0],x=f[1],y=Object(a.useState)(""),w=Object(c.a)(y,2),N=w[0],S=w[1],A=Object(a.useState)(""),I=Object(c.a)(A,2),M=I[0],E=I[1],C=t.formatMessage;return Object(a.useEffect)((function(){r(window.localStorage.getItem("".concat(n,":firstName"))||""),p(window.localStorage.getItem("".concat(n,":address"))||""),j(window.localStorage.getItem("".concat(n,":occupation"))||""),x(window.localStorage.getItem("".concat(n,":children"))||""),S(window.localStorage.getItem("".concat(n,":howMany"))||""),E(window.localStorage.getItem("".concat(n,":email"))||"")}),[n]),[{id:"firstName",previous:"/",next:"address",input:{type:"text",placeholder:C(v.firstNamePlaceholder),currentValue:s},question:C(v.firstNameQuestion),onChange:function(e){return r(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":firstName"),s)},validation:function(){return!s}},{id:"address",previous:"/",next:"occupation",input:{type:"text",placeholder:C(v.addressPlaceholder),currentValue:d},question:C(v.addressQuestion),onChange:function(e){return p(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":address"),d)},validation:function(){return!d}},{id:"occupation",previous:"firstName",next:"children",input:{type:"radio",options:[{label:C(v.occupationEmployed),value:"EMPLOYED"},{label:C(v.occupationSelfEmployed),value:"SELF_EMPLOYED"},{label:C(v.occupationStudent),value:"STUDENT"}],currentValue:g},question:C(v.occupationQuestion),onChange:function(e){return j(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":occupation"),g)},validation:function(){return!g}},{id:"children",previous:"occupation",next:"yes"===O?"howMany":"emailAddress",input:{type:"radio",options:[{label:C(v.childrenYes),value:"yes"},{label:C(v.childrenNo),value:"no"}],currentValue:O},question:C(v.doYouHaveChildrenQuestion),onChange:function(e){return x(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":children"),O)},validation:function(){return!O}},{id:"howMany",previous:"children",next:"emailAddress",input:{type:"text",placeholder:"1",currentValue:N},question:C(v.howManyChildrenQuestion),onChange:function(e){return S(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":howMany"),N)},validation:function(){return!N}},{id:"emailAddress",previous:"Yes"===O?"howMany":"children",next:"recommendations",input:{type:"email",placeholder:"jorge.parga@pluma.com",currentValue:M},question:C(v.emailQuestion),onChange:function(e){return E(e.target.value)},onNext:function(){window.localStorage.setItem("".concat(n,":email"),M),window.localStorage.setItem("".concat(n,":completedProfile"),"true")},validation:function(){return!M||!/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(M)}}]}({intl:e,userId:o}),r=Object(O.f)();return o||r.push("/"),Object(j.jsx)("div",{className:Z.a.main,children:Object(j.jsxs)(O.c,{children:[Object(j.jsx)(O.a,{exact:!0,path:"/",children:Object(j.jsx)(N,{userId:o,setUserId:i})}),s.map((function(e,t){return Object(j.jsx)(O.a,{path:"/".concat(e.id),children:Object(j.jsx)(E,{question:e})},t)})),Object(j.jsx)(O.a,{path:"/recommendations",children:Object(j.jsx)(B,{userId:o})})]})})}var J={en:u,es:d};var $=function(){var e=Object(a.useState)("en"),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(j.jsx)(l.a,{locale:n,messages:J[n],children:Object(j.jsxs)(r.a,{basename:"/pluma",children:[Object(j.jsx)(f,{setLocale:o,locale:n}),Object(j.jsx)(D,{})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),i(e),s(e)}))};s.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)($,{})}),document.getElementById("root")),U()}},[[89,1,2]]]);
//# sourceMappingURL=main.7ea97215.chunk.js.map
(this.webpackJsonppluma=this.webpackJsonppluma||[]).push([[0],{25:function(e,t,n){e.exports={header:"header_header__3fn4i",container:"header_container__1p_To",logo:"header_logo__14tHM",name:"header_name__2Sj0Q"}},32:function(e,t,n){e.exports={title:"home_title__1K4BX",container:"home_container__2qJuK"}},35:function(e,t,n){e.exports={buttons:"question_buttons__2rLvr",question:"question_question__3nqZK"}},48:function(e){e.exports=JSON.parse('{"Header.language":"Language:","Header.spanish":"Spanish","Header.english":"English","Home.signIn":"Sign In","Home.signInEmail":"What is your sign-in email address?","Home.emailPlaceholder":"Your email address","Home.continue":"Continue","Question.previous":"< Previous","Question.next":"Next >","Recommendations.recommendationTitle":"We got your recommendations","Recommendations.recommendationSubTitle":"Based on your answers, this is what make sense for you and what you should pay","Recommendations.healthInsurance":"Health Insurance","Recommendations.homeContent":"Home Content","Recommendations.PRIVATE_LIABILITY":"Private Liability","Recommendations.MONTH":" per month","Recommendations.YEAR":"per year","App.firstNameQuestion":"What\'s your fist name?","App.firstNamePlaceholder":"Your name here","App.addressQuestion":"What\'s your address?","App.addressPlaceholder":"Your address here","App.occupation":"What\'s your occupation?","App.occupationEmployed":"Employed","App.occupationSelfEmployed":"SelfEmployed","App.occupationStudent":"Student","App.doYouHaveChildrenQuestion":"Do you have children?","App.childrenYes":"Yes","App.childrenNo":"No","App.howManyChildrenQuestion":"How many children do you have?","App.emailQuestion":"What\'s your email?"}')},49:function(e){e.exports=JSON.parse('{"Header.language":"Lenguaje:","Header.spanish":"Espa\xf1ol","Header.english":"Ingles","Home.signIn":"Autenticar","Home.signInEmail":"Cual es tu email para autenticarte?","Home.continue":"Continuar","Home.emailPlaceholder":"Aqui tu correo electronico","Question.previous":"< Anterior","Question.next":"Siguiente >","Recommendations.recommendationTitle":"Estas son las recomendaciones para ti:","Recommendations.recommendationSubTitle":"En base a tus respuestas, esto es lo que creemos que funciona para ti y su costo","Recommendations.healthInsurance":"Seguro de vida","Recommendations.homeContent":"Seguro de hogar","Recommendations.PRIVATE_LIABILITY":"Riesgo como individuo","Recommendations.MONTH":" al mes","Recommendations.YEAR":"al a\xf1o","App.firstNameQuestion":"Cual es tu nombre?","App.occupation":"A que te dedicas?","App.doYouHaveChildrenQuestion":"Tienes hijos?","App.howManyChildrenQuestion":"Cuantos hijos tienes?","App.emailQuestion":"cual es tu correo electronico?","App.firstNamePlaceholder":"Tu nombre aqui","App.occupationEmployed":"Empleado","App.occupationSelfEmployed":"Autonomo","App.occupationStudent":"Estudiante","App.childrenYes":"Si","App.childrenNo":"No","App.addressPlaceholder":"Tu direccion aqui","App.addressQuestion":"Cual es tu direccion?"}')},50:function(e,t,n){e.exports={recommendation:"recommendations_recommendation__3m6Gc"}},51:function(e,t,n){e.exports={main:"main_main__2cBeG"}},62:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),s=n(47),i=n.n(s),c=(n(62),n(8)),r=(n(63),n(20)),u=n(30),l=n(48),d=n(49),p=n(25),m=n.n(p),h=n(12),j=n(21),g=n(2),b=Object(h.a)({language:{id:"Header.language",defaultMessage:"Language:"},spanish:{id:"Header.spanish",defaultMessage:"Spanish"},english:{id:"Header.english",defaultMessage:"English"}});function f(e){var t=e.setLocale,n=e.locale,a=Object(j.a)().formatMessage;return Object(g.jsx)("header",{className:m.a.container,children:Object(g.jsxs)("div",{className:m.a.header,children:[Object(g.jsxs)("a",{className:m.a.logo,href:"/pluma",children:[Object(g.jsx)("img",{src:"https://feather-insurance.com/_next/static/media/logo.0d69221106425e5288907e514db23d99.svg","aria-label":"Home"}),Object(g.jsx)("div",{className:m.a.name,children:Object(g.jsx)("h1",{className:"p-h1",children:"Pluma"})})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"language-selector",children:a(b.language)}),Object(g.jsxs)("select",{className:"p-select",id:"language-selector",onChange:function(e){t(e.target.value)},value:n,children:[Object(g.jsx)("option",{value:"es",children:a(b.spanish)}),Object(g.jsx)("option",{value:"en",children:a(b.english)})]})]})]})})}var O=n(5),v=Object(h.a)({firstNameQuestion:{id:"App.firstNameQuestion",defaultMessage:"What's your fist name?"},firstNamePlaceholder:{id:"App.firstNamePlaceholder",defaultMessage:"Your name here"},addressQuestion:{id:"App.addressQuestion",defaultMessage:"What's your address?"},addressPlaceholder:{id:"App.addressPlaceholder",defaultMessage:"Your address here"},occupationQuestion:{id:"App.occupation",defaultMessage:"What's your occupation?"},occupationEmployed:{id:"App.occupationEmployed",defaultMessage:"Employed"},occupationSelfEmployed:{id:"App.occupationSelfEmployed",defaultMessage:"SelfEmployed"},occupationStudent:{id:"App.occupationStudent",defaultMessage:"Student"},doYouHaveChildrenQuestion:{id:"App.doYouHaveChildrenQuestion",defaultMessage:"Do you have children?"},childrenYes:{id:"App.childrenYes",defaultMessage:"Yes"},childrenNo:{id:"App.childrenNo",defaultMessage:"No"},howManyChildrenQuestion:{id:"App.howManyChildrenQuestion",defaultMessage:"How many children do you have?"},emailQuestion:{id:"App.emailQuestion",defaultMessage:"What's your email?"}});var x=n(32),y=n.n(x),w=Object(h.a)({signIn:{id:"Home.signIn",defaultMessage:"Sign In"},signInEmail:{id:"Home.signInEmail",defaultMessage:"What is your sign-in email address?"},emailPlaceholder:{id:"Home.emailPlaceholder",defaultMessage:"Your email address"},continue:{id:"Home.continue",defaultMessage:"Continue"}});function N(e){var t=e.userId,n=e.setUserId,o=Object(j.a)().formatMessage,s=Object(O.f)(),i=Object(a.useState)("/firstName"),r=Object(c.a)(i,2),u=r[0],l=r[1];return Object(a.useEffect)((function(){window.localStorage.getItem("".concat(t,":token"))&&l("/recommendations")}),[t]),Object(g.jsxs)("div",{className:y.a.container,children:[Object(g.jsx)("h1",{className:"p-h1 ".concat(y.a.title),children:o(w.signIn)}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{className:"p-h4",htmlFor:"email",children:o(w.signInEmail)}),Object(g.jsx)("input",{id:"user-id",className:"p-input d-block mt8 wmx6","data-cy":"input",type:"email",placeholder:o(w.emailPlaceholder),value:t,onChange:function(e){return n(e.target.value)}}),Object(g.jsx)("button",{className:"p-btn p-btn--primary wmn3 mt16",onClick:function(){return function(e){return s.push(e)}(u)},disabled:!t,children:o(w.continue)})]})]})}var A=n(52),I=n(35),S=n.n(I),M=Object(h.a)({previous:{id:"Question.previous",defaultMessage:"< Previous"},next:{id:"Question.next",defaultMessage:"Next >"}});function C(e){var t=e.question,n=t.previous,a=t.next,o=t.question,s=Object(j.a)().formatMessage,i=Object(O.f)(),c=function(e){return i.push(e)},r="radio"!==t.input.type?Object(g.jsx)(E,{placeholder:t.input.placeholder,onChange:t.onChange,currentValue:t.input.currentValue,type:t.input.type,label:o}):Object(g.jsx)(_,{options:t.input.options,onChange:t.onChange,currentValue:t.input.currentValue,label:o});return Object(g.jsxs)("div",{className:S.a.question,children:[r,Object(g.jsxs)("div",{className:S.a.buttons,children:[Object(g.jsx)("button",{className:"p-btn p-btn--primary mt16 ws2",onClick:function(){return c(n)},children:s(M.previous)}),Object(g.jsx)("button",{"data-cy":"next-button",className:"p-btn--primary mt16 ws2",onClick:function(){t.onNext(),c(a)},disabled:t.validation(),children:s(M.next)})]})]})}function E(e){var t=e.placeholder,n=e.onChange,a=e.currentValue,o=e.type,s=e.label,i={className:"p-input d-block mt8 wmx6",type:""};return"email"===o&&(i={type:"email",className:"d-block mt8 wmx6 ".concat(function(e){return/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)?"p-input":"p-input--error"}(a))}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("label",{className:"p-h4",htmlFor:s,children:s}),Object(g.jsx)("input",Object(A.a)({id:s,placeholder:t,onChange:n,value:a},i))]})}function _(e){var t=e.options,n=e.onChange,a=e.currentValue,o=e.label;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("label",{className:"p-h4",children:o}),Object(g.jsx)("div",{className:"p-label-container mt8",children:t.map((function(e,t){return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{id:"default-".concat(t),className:"p-radio",type:"radio",value:e.value,onChange:n,checked:a===e.value}),Object(g.jsx)("label",{htmlFor:"default-".concat(t),className:"p-label",children:e.label})]},t)}))})]})}var H=n(50),Q=n.n(H),T=n(15),R=n.n(T),P=n(26),Y=n(36),k=n.n(Y);function q(e,t){return L.apply(this,arguments)}function L(){return(L=Object(P.a)(R.a.mark((function e(t,n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={errors:null,data:{jwt:""}},e.prev=1,e.next=4,k.a.post("https://challenge-dot-popsure-204813.appspot.com/user",t);case 4:a=e.sent,window.localStorage.setItem("".concat(n,":token"),a.data.jwt),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.errors=e.t0.response.data.errors;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function V(e){return B.apply(this,arguments)}function B(){return(B=Object(P.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a={data:[]},e.prev=2,e.next=5,k.a.get("https://challenge-dot-popsure-204813.appspot.com/recommendation ",{headers:{Authorization:"Bearer ".concat(n)}});case 5:a=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var F=Object(h.a)({recommendationTitle:{id:"Recommendations.recommendationTitle",defaultMessage:"We got your recommendations"},recommendationSubTitle:{id:"Recommendations.recommendationSubTitle",defaultMessage:"Based on your answers, this is what make sense for you and what you should pay"},previous:{id:"Recommendations.goBack",defaultMessage:"< Go Back"},HEALTH_INSURANCE:{id:"Recommendations.healthInsurance",defaultMessage:"Health Insurance"},HOME_CONTENT:{id:"Recommendations.homeContent",defaultMessage:"Home Content"},PRIVATE_LIABILITY:{id:"Recommendations.PRIVATE_LIABILITY",defaultMessage:"Private Liability"},MONTH:{id:"Recommendations.MONTH",defaultMessage:" per month"},YEAR:{id:"Recommendations.YEAR",defaultMessage:"per year"}});function W(e){var t=function(e){var t=e.userId,n=Object(a.useState)({}),o=Object(c.a)(n,2),s=o[0],i=o[1],r=Object(a.useState)([]),u=Object(c.a)(r,2),l=u[0],d=u[1];return Object(a.useEffect)((function(){var e=window.localStorage.getItem("".concat(t,":token"));function n(){return(n=Object(P.a)(R.a.mark((function e(t,n){var o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,n);case 2:if(!(o=e.sent).errors){e.next=6;break}return i(o.errors),e.abrupt("return");case 6:return e.t0=d,e.next=9,a({token:o.data.jwt});case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){return o.apply(this,arguments)}function o(){return(o=Object(P.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,e.next=3,V({token:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"true"===window.localStorage.getItem("".concat(t,":completedProfile"))&&null===e&&function(e,t){n.apply(this,arguments)}({firstName:window.localStorage.getItem("".concat(t,":firstName")),address:window.localStorage.getItem("".concat(t,":address")),occupation:window.localStorage.getItem("".concat(t,":occupation")),numberOfChildren:Number(window.localStorage.getItem("".concat(t,":howMany"))),email:window.localStorage.getItem("".concat(t,":email"))},t)}),[t]),[l,s]}({userId:e.userId}),n=Object(c.a)(t,2),o=n[0],s=n[1],i=Object(j.a)().formatMessage,r=Object(O.f)();return Object(g.jsxs)(g.Fragment,{children:[!!o.length&&Object(g.jsxs)("div",{className:"home-container ml8 mr8",children:[Object(g.jsx)("h1",{className:"p-h1",children:i(F.recommendationTitle)}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{className:"p-h4 mb24",children:i(F.recommendationSubTitle)}),o.map((function(e,t){return Object(g.jsxs)("div",{className:"".concat(Q.a.recommendation," mb24"),children:[Object(g.jsx)("h4",{className:"p-h4",children:i(F[e.type])}),Object(g.jsx)("div",{children:" $ ".concat(e.price.amount," ").concat(i(F[e.price.periodicity]))})]},t)}))]})]}),!o.length&&!s.email&&Object(g.jsx)("div",{className:"ds-spinner ds-spinner__l"}),s.email&&Object(g.jsxs)("div",{className:"display: flex;",children:[Object(g.jsx)("div",{className:"p-notice--danger",children:s.email}),Object(g.jsx)("button",{className:"p-btn p-btn--primary mt16 ws2",onClick:function(){return e="/emailAddress",r.push(e);var e},children:i(F.previous)})]})]})}var z=n(51),Z=n.n(z);function D(){var e=Object(j.a)(),t=Object(a.useState)(""),n=Object(c.a)(t,2),o=n[0],s=n[1],i=function(e){var t=e.intl,n=e.userId,o=Object(a.useState)(""),s=Object(c.a)(o,2),i=s[0],r=s[1],u=Object(a.useState)(""),l=Object(c.a)(u,2),d=l[0],p=l[1],m=Object(a.useState)(""),h=Object(c.a)(m,2),j=h[0],g=h[1],b=Object(a.useState)(""),f=Object(c.a)(b,2),O=f[0],x=f[1],y=Object(a.useState)(""),w=Object(c.a)(y,2),N=w[0],A=w[1],I=Object(a.useState)(""),S=Object(c.a)(I,2),M=S[0],C=S[1],E=t.formatMessage;return Object(a.useEffect)((function(){r(window.localStorage.getItem("".concat(n,":firstName"))||""),p(window.localStorage.getItem("".concat(n,":address"))||""),g(window.localStorage.getItem("".concat(n,":occupation"))||""),x(window.localStorage.getItem("".concat(n,":children"))||""),A(window.localStorage.getItem("".concat(n,":howMany"))||""),C(window.localStorage.getItem("".concat(n,":email"))||"")}),[n]),[{id:"firstName",previous:"/",next:"address",input:{type:"text",placeholder:E(v.firstNamePlaceholder),currentValue:i},question:E(v.firstNameQuestion),onChange:function(e){return r(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":firstName"),i)},validation:function(){return!i}},{id:"address",previous:"/",next:"occupation",input:{type:"text",placeholder:E(v.addressPlaceholder),currentValue:d},question:E(v.addressQuestion),onChange:function(e){return p(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":address"),d)},validation:function(){return!d}},{id:"occupation",previous:"firstName",next:"children",input:{type:"radio",options:[{label:E(v.occupationEmployed),value:"EMPLOYED"},{label:E(v.occupationSelfEmployed),value:"SELF_EMPLOYED"},{label:E(v.occupationStudent),value:"STUDENT"}],currentValue:j},question:E(v.occupationQuestion),onChange:function(e){return g(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":occupation"),j)},validation:function(){return!j}},{id:"children",previous:"occupation",next:"yes"===O?"howMany":"emailAddress",input:{type:"radio",options:[{label:E(v.childrenYes),value:"yes"},{label:E(v.childrenNo),value:"no"}],currentValue:O},question:E(v.doYouHaveChildrenQuestion),onChange:function(e){return x(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":children"),O)},validation:function(){return!O}},{id:"howMany",previous:"children",next:"emailAddress",input:{type:"text",placeholder:"1",currentValue:N},question:E(v.howManyChildrenQuestion),onChange:function(e){return A(e.target.value)},onNext:function(){return window.localStorage.setItem("".concat(n,":howMany"),N)},validation:function(){return!N}},{id:"emailAddress",previous:"Yes"===O?"howMany":"children",next:"recommendations",input:{type:"email",placeholder:"jorge.parga@pluma.com",currentValue:M},question:E(v.emailQuestion),onChange:function(e){return C(e.target.value)},onNext:function(){window.localStorage.setItem("".concat(n,":email"),M),window.localStorage.setItem("".concat(n,":completedProfile"),"true")},validation:function(){return!M||!/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(M)}}]}({intl:e,userId:o}),r=Object(O.f)();return o||r.push("/"),Object(g.jsx)("div",{className:Z.a.main,children:Object(g.jsxs)(O.c,{children:[Object(g.jsx)(O.a,{exact:!0,path:"/",children:Object(g.jsx)(N,{userId:o,setUserId:s})}),i.map((function(e,t){return Object(g.jsx)(O.a,{path:"/".concat(e.id),children:Object(g.jsx)(C,{question:e})},t)})),Object(g.jsx)(O.a,{path:"/recommendations",children:Object(g.jsx)(W,{userId:o})})]})})}var J={en:l,es:d};var $=function(){var e=Object(a.useState)("en"),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(g.jsx)(u.a,{locale:n,messages:J[n],children:Object(g.jsxs)(r.a,{basename:"/pluma",children:[Object(g.jsx)(f,{setLocale:o,locale:n}),Object(g.jsx)(D,{})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),s(e),i(e)}))};i.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)($,{})}),document.getElementById("root")),U()}},[[89,1,2]]]);
//# sourceMappingURL=main.055dc68d.chunk.js.map